{
    "input": {
        "grid": "alberta_grid_4326"
    },
    "instances": [{
            "table": "oil_rings",
            "model_type": "26066ec1-8150-498e-9396-cf9af98a45d8",
			"title": "Oil Price Generator",
            "properties": ["id", "population"]
        },{
            "table": "grid_cells",
            "model_type": "21567c86-34f0-4f13-a6f0-ddc05ca45fe5",
			"title": "Oil GDP Cell",
            "properties": ["id", "population"]
        }
    ],
    "relations": [{
            "table": "emergency_areas",
            "coupling": ["emergency_area", "out_1", "hospital", "processor_in"],
            "fields": ["id", "hospitals_1"]
        }
    ],
    "tasks": [{
            "name": "make_points",
			"params": {
				"points": [${center}]		
			}
        }, {
            "name": "project",
            "params": {
                "srid": 3347,
                "source": "@step:1"
            }
        }, {
            "name": "rings",
            "params": {
                "radii": ${radius},
                "source": "@step:2"
            }
        }, {
            "name": "project",
            "params": {
                "srid": 4326,
                "source": "@step:3"
            }
        }, {
            "name": "add_column",
            "params": {
                "table": "@step:4",
				"name": "prices",
				"type": "varchar(255)"
            }
        }, {
            "name": "set_values",
            "params": {
                "table": "@step:5",
				"where": ${prices}
            },
			"output": "oil_rings"
        }, {
            "name": "intersection",
            "params": {
                "table1": "public.alberta_grid_4326",
                "table2": "@step:6"
            },
            "output": "grid_cells"
        }
    ]
}
